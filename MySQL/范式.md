
好的数据库设计对数据的存储性能和后期的程序开发，都会产生重要的影响。建立科学的、规范的数据库就需要满足一些规则来优化数据的设计和存储，这些规则就称为范式。



### **三大范式**
目前关系数据库有六种范式：第一范式（1NF）、第二范式（2NF）、第三范式（3NF）、巴斯-科德范式（BCNF）、第四范式(4NF）和第五范式（5NF，又称完美范式）。

满足最低要求的范式是第一范式（1NF）。在第一范式的基础上进一步满足更多规范要求的称为第二范式（2NF），其余范式以次类推。一般说来，数据库只需满足第三范式(3NF）就行了。

|**范式**|**特点**|
| ----- | ----- |
|1NF|原子性，表中每列不可再拆分。|
|2NF|不产生局部依赖，一张表只描述一件事情|
|3NF|不产生传递依赖，表中每一列都直接依赖于主键。而不是通过其它列间接依赖于主键。|



### **第一范式(1NF)：原子性**
数据库表的每一列都是不可分割的原子数据项，不能是集合、数组等非原子数据项。即表中的某个列有多个值时，必须拆分为不同的列。

> 简而言之，**第一范式每一列不可再拆分，称为原子性**。

* 一列只描述一件事情。

|**学号**|**姓名**|**年级**|**班级**|
| ----- | ----- | ----- | ----- |
|1001|张三|一年级|3班|



### **第二范式(2NF)：唯一性**
在满足第一范式的前提下，表中的每一个字段都完全依赖于主键。

数据表中的每条记录必须是唯一的。为了实现区分，通常要为表加一个列用来存储唯一标识，这个唯一属性列被称为主键列。

> 简而言之，第二范式就是**在第一范式的基础上所有列完全依赖于主键列**。

* 一列只描述一件事情。  
* 表中的每一列都依赖于主键。  

|**流水号（主键）**|**学号**|**考试成绩**|**日期**|
| ----- | ----- | ----- | ----- |
|202001052178|1001|59|2020-01-05|
|202001052212|1001|59|2020-01-05|



### **第三范式(3NF)：关联性**
在满足第二范式的前提下，表中的每一列都直接依赖于主键，而不是通过其它的列来间接依赖于主键。

> 简而言之，第三范式就是**所有列不依赖于其它非主键列**。数据可以拆分保存到不同的数据表，彼此保持关联。

* 一列只描述一件事情。  
* 表中的每一列都依赖于主键。
* 每列都与主键有直接关系，不存在传递依赖。

|**爸爸（主键）**|**儿子**|**女儿**|**女儿的玩具**|**女儿的衣服**|
| ----- | ----- | ----- | ----- | ----- |
|陈华|陈浩|陈婷婷|海绵宝宝|校服|



存在传递的决定关系：

* 爸爸 → 女儿 → 女儿的物品  

拆分成两张表

|**爸爸（主键）**|**儿子**|**女儿**|
| ----- | ----- | ----- |
|陈华|陈浩|陈婷婷|

|**女儿（主键）**|**女儿的玩具**|**女儿的衣服**|
| ----- | ----- | ----- |
|陈婷婷|海绵宝宝|校服|



### **依赖**
|**依赖**|**描述**|
| ----- | ----- |
|函数依赖|A→B，如果通过A属性（属性组）的值，可以确定唯一B属性的值。则称B依赖于A。例如：学号→姓名、 （学号，课程名称） →分数。|
|完全函数依赖|A→B， 如果A是一个属性组，则B属性值得确定需要依赖于A属性组中所有的属性值。例如：（学号，课程名称）→分数|
|部分函数依赖|A→B， 如果A是一个属性组，则B属性值得确定只需要依赖于A属性组中某一些值即可。例如：（学号，课程名称）→姓名|
|传递函数依赖|（A→B，B→C），如果通过A属性（属性组）的值，可以确定唯一B属性的值，在通过B属性（属性组）的值可以确定唯一C属性的值，则称 C 传递函数依赖于A。例如：学号→系名，系名→系主任|

* 码：如果在一张表中，一个属性或属性组，被其他所有属性所完全依赖，则称这个属性(属性组)为该表的码。例如：该表中码为：（学号，课程名称）。
* 主属性：码属性组中的所有属性。
* 非主属性：除过码属性组的属性。

